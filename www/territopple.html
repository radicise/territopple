<!DOCTYPE html>
<html>
	<head>
        <!-- <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="manifest" href="/site.webmanifest" /> -->
        <!-- <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
        <link rel="shortcut icon" href="/favicon/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
        <link rel="manifest" href="/favicon/site.webmanifest" /> -->
        <!-- <meta id="feature-3d" /> -->
        <script src="/_icons.js"></script>
        <link rel="stylesheet" type="text/css" href="/territopple.css" />
		<style>
		</style>
        <title>Territopple</title>
	</head>
	<body>
        <meta data-import="/components/accounts/disp.html" />
		<h1 style="width:fit-content;">Territopple, the Territory Toppling Game</h1>
        <div id="bots-popup" hidden>
            <div>
                <!-- <p id="bots-popup-text"></p> -->
                <!-- <div></div> -->
                <input type="button" value="ok" onclick="document.getElementById('bots-popup').hidden=true;">
            </div>
        </div>
        <!-- <input type="range" id="board-zoom" min="10" max="100" step="1" value="32" oninput="setTileSize()"><input type="button" value="reset zoom" onclick="document.getElementById('board-zoom').value='32';setTileSize()"> -->
                <fieldset id="display-settings">
                  <legend>Display Settings</legend>
                  <div>
                    <label for="board-zoom">Zoom</label>
                    <input type="range" id="board-zoom" min="10" max="100" step="1" value="32" oninput="setTileSize()"><input type="button" value="reset zoom" onclick="document.getElementById('board-zoom').value='32';setTileSize();window.dispatchEvent(new CustomEvent('gameboard-fresize'));">
                    <label for="settings-expand" id="settings-expand-label">Expand +</label>
                    <input type="checkbox" id="settings-expand" hidden></input>
                  </div>
                  <div id="extra-display-settings" style="display: none">                    
                    <!-- hover enabled/color -->
                    <x-style-toggle var="tile-hover" default="true"></x-style-toggle>
                    <x-color-picker var="tile-hover" desc="Hover" default="#000000"></x-color-picker>
                    <br>
                    <!-- last move enabled/color -->
                    <x-style-toggle var="last-move-enabled" default="true"></x-style-toggle>
                    <x-color-picker var="tile-last-move" desc="Last move" default="#aaaaaa"></x-color-picker>
                    <br>
                    <!-- volatile enabled/color -->
                    <x-style-toggle var="volatiles" default="true"></x-style-toggle>
                    <x-color-picker var="tile-volatile" desc="Volatiles" default="#dddddd"></x-color-picker>
                    <br>
                    <!-- board rendering option -->
                    <label for="board-rendering-option">Board Rendering:</label>
                    <select id="board-rendering-option">
                        <option value="1" selected>original</option>
                        <!-- <option value="2" disabled>concentric (broken)</option> -->
                        <option value="2">concentric</option>
                        <!-- <option value="3" selected>spherical</option> -->
                        <option value="3">spherical</option>
                    </select>
                    <div id="spherical-bloom-enabled" hidden>
                        <label for="spherical-enable-bloom">Bloom Enabled</label>
                        <input type="checkbox" id="spherical-enable-bloom" checked>
                    </div>
                  </div>
                </fieldset>
		<div id="row-container">
            <div id="container-container">
                <div id="gameboard" class="container tile-hover volatiles last-move-enabled" style="--blink-dark:#ddd;--tile-font-size:32;"></div>
                <span id="underboard-container">
                    <span id="underboard-left">
                        <input type="button" id="pingbutton" value="ping">
                        <input type="button" id="startbutton" value="start" class="FLAG-host-only">
                        <input type="button" id="botbutton" value="bots" class="FLAG-host-only">
                    </span>
                    <span id="underboard-right">
                        <span id="turn-time">Time: --:--</span>
                    </span>
                </span>
            </div>
            <!-- <div id="joined-list"></div> -->
            <table id="joined-table">
                <thead>
                    <th scope="col">Local Id</th>
                    <th scope="col">Role</th>
                    <th scope="col">Time</th>
                    <!-- column for buttons to kick/promote -->
                    <th scope="col">Actions</th>
                </thead>
                <tbody id="joined-list"></tbody>
            </table>
        </div>
        <!-- <input type="button" id="readybutton" value="ready"> -->
        <div id="download-area" hidden>
            <input type="button" value="Download Replay">
            <a hidden></a>
        </div>
		<!-- <div id="gameboard" class="container m1"></div> -->
		<h2 id="status">Connecting to server . . .</h2>
		<p id="info">Not yet connected to server</p>
        <a href="/play-online">Back To Server List</a>
        <script type="importmap">
            {
                "imports": {
                    "three": "/three/build/three.module.js",
                    "three/addons/": "/three/examples/jsm/",
                    "topology/": "/topology/"
                }
            }
        </script>
        <script id="SCRIPT-r3d" type="module" src="render3.js"></script>
        <script src="portno.js"></script>
        <script src="helpers/render/unified.js"></script>
        <script src="helpers/banners.js"></script>
		<script src="logic/game.js"></script>
        <script src="logic/joinlist.js?rev=1"></script>
	<script src="territopple.js?rev=2"></script>
        <script src="displaycontrols.js?rev=1"></script>
	</body>
</html>
